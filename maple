#!/bin/bash

source maple.config

if [ $1 = "build" ]; then
docker build -t $maple_container --build-arg maple_image=$maple_image \
                                 --build-arg maple_parfile=$maple_parfile .

fi

if [ $1 = "rebuild" ]; then
docker-compose build -t $maple_container --build-arg maple_image=$maple_image \
                                         --build-arg maple_parfile=$maple_parfile .

fi

if [ $1 = "run" ]; then
docker run -v $PWD/IOData/IOData_$maple_container:/home/run/IOData $maple_container
fi

if [ $1 = "clean" ]; then
docker rmi -f $maple_container
fi
